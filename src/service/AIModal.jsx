
import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};



export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing in Indian Rupees, rating Time  travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n\n\n" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "Okay, here's a budget-friendly Las Vegas itinerary for a couple, along with hotel options and detailed daily plans, all in JSON format. This plan prioritizes free or low-cost activities, happy hour deals, and affordable eats.\n\n```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap/Budget-Friendly\",\n    \"travelers\": \"Couple\",\n    \"currency\": \"INR (Indian Rupees)\",\n    \"exchangeRate\": \"1 USD = 83 INR (Approximate)\",\n    \"hotelOptions\": [\n      {\n        \"hotelName\": \"Circus Circus Hotel & Casino\",\n        \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": {\n          \"perNightUSD\": 40,\n          \"perNightINR\": 3320\n        },\n        \"hotelImageUrl\": \"https://example.com/circus_circus.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1267,\n          \"longitude\": -115.1667\n        },\n        \"rating\": 3.5,\n        \"description\": \"Affordable hotel on the Strip with free circus acts, a theme park (Adventuredome, extra cost), and various dining options.  Older, but a good budget choice.\"\n      },\n      {\n        \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n        \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n        \"price\": {\n          \"perNightUSD\": 45,\n          \"perNightINR\": 3735\n        },\n        \"hotelImageUrl\": \"https://example.com/stratosphere.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1450,\n          \"longitude\": -115.1550\n        },\n        \"rating\": 3.8,\n        \"description\": \"Located at the north end of the Strip, offering great views from the Stratosphere Tower (access fee applies).  Rooms are basic but clean, and often have good deals.\"\n      },\n      {\n        \"hotelName\": \"Excalibur Hotel & Casino\",\n        \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": {\n          \"perNightUSD\": 50,\n          \"perNightINR\": 4150\n        },\n        \"hotelImageUrl\": \"https://example.com/excalibur.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0983,\n          \"longitude\": -115.1742\n        },\n        \"rating\": 4.0,\n        \"description\": \"A medieval-themed hotel offering affordable rooms, multiple pools, and dining options. Connected to Luxor and Mandalay Bay via walkways.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"theme\": \"South Strip Exploration & Free Entertainment\",\n        \"morning\": {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic photo opportunity. Arrive early to avoid crowds. Free.\",\n          \"placeImageUrl\": \"https://example.com/welcome_sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricingINR\": 0,\n          \"rating\": 4.6,\n          \"bestTimeToVisit\": \"8:00 AM - 9:00 AM\",\n          \"travelTimeFromHotel\": \"15-20 minutes (depending on hotel location)\"\n        },\n        \"afternoon\": {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning seasonal floral displays. Free.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_gardens.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1763\n          },\n          \"ticketPricingINR\": 0,\n          \"rating\": 4.8,\n          \"bestTimeToVisit\": \"2:00 PM - 3:00 PM\",\n          \"travelTimeFromPrevious\": \"15-20 minutes (Bus or Ride share)\"\n        },\n        \"evening\": {\n          \"placeName\": \"Bellagio Fountain Show\",\n          \"placeDetails\": \"Spectacular water show choreographed to music. Free. Shows every 30 minutes in the afternoon and evening, and every 15 minutes at night.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_fountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1763\n          },\n          \"ticketPricingINR\": 0,\n          \"rating\": 4.9,\n          \"bestTimeToVisit\": \"8:00 PM - 9:00 PM\",\n          \"travelTimeFromPrevious\": \"Very close to the Conservatory, walk\"\n        },\n          \"dinner\":{\n             \"placeName\":\"In-N-Out Burger\",\n             \"placeDetails\":\"Classic California burger chain. Affordable and tasty.\",\n             \"placeImageUrl\":\"https://example.com/innout.jpg\",\n             \"geoCoordinates\":{\n               \"latitude\":36.1039,\n               \"longitude\":-115.1761\n             },\n             \"ticketPricingINR\":600,\n             \"rating\":4.5,\n             \"bestTimeToVisit\":\"9:00 PM - 10:00 PM\",\n             \"travelTimeFromPrevious\":\"5-10 Minutes Walk\"\n          }\n      },\n      \"day2\": {\n        \"theme\": \"Downtown Las Vegas (Fremont Street) & Budget Eats\",\n        \"morning\": {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light and sound show on a massive LED canopy. Free.  Explore the old casinos and street performers.\",\n          \"placeImageUrl\": \"https://example.com/fremont_street.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1420\n          },\n          \"ticketPricingINR\": 0,\n          \"rating\": 4.5,\n          \"bestTimeToVisit\": \"10:00 AM - 11:00 AM (less crowded than evening)\",\n          \"travelTimeFromHotel\": \"30-45 minutes (bus or rideshare)\"\n        },\n        \"afternoon\": {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area made of shipping containers.  Live music and a playground.\",\n          \"placeImageUrl\": \"https://example.com/container_park.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1692,\n            \"longitude\": -115.1403\n          },\n          \"ticketPricingINR\": 0,\n          \"rating\": 4.2,\n          \"bestTimeToVisit\": \"1:00 PM - 2:00 PM\",\n          \"travelTimeFromPrevious\": \"5 minute walk\"\n        },\n        \"evening\": {\n          \"placeName\": \"Fremont Street Experience Viva Vision Light Show\",\n          \"placeDetails\": \"The main attraction!  Shows run frequently in the evening.\",\n          \"placeImageUrl\": \"https://example.com/fremont_light_show.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1420\n          },\n          \"ticketPricingINR\": 0,\n          \"rating\": 4.7,\n          \"bestTimeToVisit\": \"9:00 PM - 10:00 PM\",\n          \"travelTimeFromPrevious\": \"Located on Fremont Street, no travel needed\"\n        },\n          \"dinner\":{\n             \"placeName\":\"Heart Attack Grill\",\n             \"placeDetails\":\"A very unique and quirky burger joint. Serves very large burgers.\",\n             \"placeImageUrl\":\"https://example.com/heart_attack_grill.jpg\",\n             \"geoCoordinates\":{\n               \"latitude\":36.1707,\n               \"longitude\":-115.1434\n             },\n             \"ticketPricingINR\":1000,\n             \"rating\":4.0,\n             \"bestTimeToVisit\":\"7:00 PM - 8:00 PM\",\n             \"travelTimeFromPrevious\":\"5-10 Minutes Walk\"\n          }\n      },\n      \"day3\": {\n        \"theme\": \"High Roller & Exploring the LINQ Promenade\",\n        \"morning\": {\n          \"placeName\": \"LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district.  Explore the shops and atmosphere.\",\n          \"placeImageUrl\": \"https://example.com/linq_promenade.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1167,\n            \"longitude\": -115.1692\n          },\n          \"ticketPricingINR\": 0,\n          \"rating\": 4.3,\n          \"bestTimeToVisit\": \"10:00 AM - 11:00 AM\",\n          \"travelTimeFromHotel\": \"10-20 minutes (depending on hotel, bus/walk)\"\n        },\n        \"afternoon\": {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"30-minute ride with stunning views of the Strip. Consider happy hour deals at the bar inside the cabins. (Ticket needed)\",\n          \"placeImageUrl\": \"https://example.com/high_roller.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1167,\n            \"longitude\": -115.1692\n          },\n          \"ticketPricingINR\": 2500,\n          \"rating\": 4.6,\n          \"bestTimeToVisit\": \"4:00 PM - 5:00 PM (for sunset views)\",\n          \"travelTimeFromPrevious\": \"Located within the LINQ Promenade\"\n        },\n        \"evening\": {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Fiery volcano eruption show. Free. Shows typically run every hour in the evening.\",\n          \"placeImageUrl\": \"https://example.com/mirage_volcano.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricingINR\": 0,\n          \"rating\": 4.7,\n          \"bestTimeToVisit\": \"8:00 PM - 9:00 PM\",\n          \"travelTimeFromPrevious\": \"15-20 minutes (bus or ride share)\"\n        },\n           \"dinner\":{\n             \"placeName\":\"Ocean One Bar & Grille\",\n             \"placeDetails\":\"Located in Miracle Mile Shops, offers a very cheap lunch and dinner menu.\",\n             \"placeImageUrl\":\"https://example.com/ocean_one.jpg\",\n             \"geoCoordinates\":{\n               \"latitude\":36.1119,\n               \"longitude\":-115.1749\n             },\n             \"ticketPricingINR\":1500,\n             \"rating\":4.2,\n             \"bestTimeToVisit\":\"7:00 PM - 8:00 PM\",\n             \"travelTimeFromPrevious\":\"10-15 Minutes (Bus or Rideshare)\"\n          }\n      }\n    },\n     \"budgetTips\": [\n          \"Take advantage of free attractions like the Bellagio fountains and conservatory, Fremont Street Experience, and the Mirage Volcano.\",\n          \"Look for happy hour deals on drinks and appetizers.\",\n          \"Eat at affordable restaurants like In-N-Out Burger, Ocean One Bar & Grille or food courts.\",\n          \"Use public transportation (buses) or rideshares to save on transportation costs.\",\n          \"Consider purchasing a day pass for the Las Vegas Monorail if you plan to travel frequently along the Strip.\",\n          \"Bring your own snacks and drinks to avoid buying them at higher prices on the Strip.\",\n          \"Check for free events and activities happening during your visit.\"\n        ]\n  }\n}\n```\n\n**Key Considerations & Explanations:**\n\n*   **Hotel Choices:**  The hotels listed are generally known for being more budget-friendly on the Strip.  Prices can fluctuate significantly based on dates, so check current pricing before booking.\n*   **Currency Conversion:** I've used an approximate conversion rate.  Be sure to check the current rate for the most accurate budgeting.\n*   **Transportation:** This itinerary *assumes* a mix of walking, using the bus system (the Deuce or SDX are good options), and occasionally rideshares.  Rideshares can add up, so prioritize buses.\n*   **Food:** The suggested restaurants are known for being relatively inexpensive. Food courts are another great option.  Consider packing some snacks.\n*   **Flexibility:** This is a *suggested* itinerary.  Feel free to adjust it based on your interests and energy levels.\n*   **Ticket Prices:** Ticket prices are estimates and can vary.  Check official websites for the most up-to-date information.\n*   **Image URLs:** The `hotelImageUrl` and `placeImageUrl` fields are placeholders.  You'll need to replace these with actual image URLs.\n*   **Safety:**  Be aware of your surroundings, especially at night, and keep your belongings secure.\n*   **Booking in Advance:**  Book hotels and any paid attractions (like the High Roller) in advance, especially if traveling during peak season, to secure better prices.\n\n**How to Use This JSON:**\n\n1.  **Copy the JSON:**  Copy the entire block of code.\n2.  **Use a JSON Viewer/Formatter:**  Paste the JSON into an online JSON viewer or formatter (search \"JSON viewer online\"). This will make it easier to read and understand.\n3.  **Parse in Code (if applicable):** If you're a developer, you can use a programming language (like Python, JavaScript, etc.) to parse this JSON and use the data to build a travel app or website.\n\nRemember to customize this plan to your specific interests and budget. Enjoy your trip to Las Vegas!\n" },
            ],
        },
    ],
});

